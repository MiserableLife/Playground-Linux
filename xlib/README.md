You should install libx11-dev package to build the code

compile command 

$ g++ example.cpp -lX11


#input method 

you should understand the concept and architecture  of x11 input method. 
(https://www.x.org/releases/X11R7.7/doc/libX11/libX11/libX11.html#Input_Method_Management )


